<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
          content="default-src 'self';
                   script-src 'self';
                   style-src 'self' 'unsafe-inline';
                   img-src 'self' data:;
                   font-src 'self';">
    <title>Genfins</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/sidebar.css">
    <link rel="stylesheet" href="styles/dashboard.css">
    <link rel="stylesheet" href="styles/transacoes.css">
    <link rel="stylesheet" href="styles/cartao.css">
    <link rel="stylesheet" href="styles/relatorio.css">
    <link rel="stylesheet" href="styles/configurar.css">
    <link rel="stylesheet" href="styles/toast.css">
    <link rel="stylesheet" href="styles/import.css">
    <link rel="stylesheet" href="styles/login.css">
</head>
<body>
    <!-- Tela de Autentica√ß√£o -->
    <div id="authScreen" class="auth-screen">
        <div class="auth-container">
            <div class="auth-logo">
                <img src="assets/logo.ico" alt="GenFins Logo">
                <h1>GenFins</h1>
                <p>Gerenciador Financeiro</p>
            </div>

            <!-- Formul√°rio de Login -->
            <div id="loginForm" class="auth-form">
                <h2>Entrar</h2>
                <div class="form-group">
                    <label for="loginNome">Nome de usu√°rio</label>
                    <input type="text" id="loginNome" placeholder="Digite seu nome" autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="loginSenha">Senha</label>
                    <input type="password" id="loginSenha" placeholder="Digite sua senha" autocomplete="current-password">
                </div>
                <div id="loginError" class="auth-error"></div>
                <button id="btnLogin" class="auth-btn">Entrar</button>
                <p class="auth-switch">N√£o tem conta? <a href="#" id="showRegister">Criar conta</a></p>
            </div>

            <!-- Formul√°rio de Registro -->
            <div id="registerForm" class="auth-form" style="display: none;">
                <h2>Criar Conta</h2>
                <div class="form-group">
                    <label for="registerNome">Nome de usu√°rio</label>
                    <input type="text" id="registerNome" placeholder="Escolha um nome" autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="registerSenha">Senha</label>
                    <input type="password" id="registerSenha" placeholder="Crie uma senha (m√≠n. 4 caracteres)" autocomplete="new-password">
                </div>
                <div class="form-group">
                    <label for="registerConfirmarSenha">Confirmar senha</label>
                    <input type="password" id="registerConfirmarSenha" placeholder="Confirme sua senha" autocomplete="new-password">
                </div>
                <div id="registerError" class="auth-error"></div>
                <button id="btnRegister" class="auth-btn">Criar Conta</button>
                <p class="auth-switch">J√° tem conta? <a href="#" id="showLogin">Entrar</a></p>
            </div>
        </div>
    </div>

    <div class="app-container" id="appContainer" style="display: none;">
        <!-- Skip Link para Acessibilidade -->
        <a href="#main-content" class="skip-link">Pular para conte√∫do principal</a>

        <!-- Sidebar -->
        <aside class="sidebar" aria-label="Navega√ß√£o principal">
            <div class="app-header">
                <div class="app-logo">
                    <img src="assets/logo.ico" alt="GenFins Logo">
                </div>
                <div class="app-info">
                    <h1 class="app-name">GenFins</h1>
                    <span class="app-version">v1.8.3</span>
                </div>
            </div>

            <nav class="nav-menu" role="navigation" aria-label="Menu principal">
                <button class="nav-item" data-page="dashboard" aria-label="Ir para Dashboard" role="menuitem" title="Dashboard">
                    <span class="nav-icon" aria-hidden="true">üìä</span>
                    <span class="nav-text">Dashboard</span>
                </button>
                <button class="nav-item active" data-page="transacoes" aria-label="Ir para Transa√ß√µes" role="menuitem" aria-current="page" title="Transa√ß√µes">
                    <span class="nav-icon" aria-hidden="true">üí≥</span>
                    <span class="nav-text">Transa√ß√£o</span>
                </button>
                <button class="nav-item" data-page="cartao" aria-label="Ir para Cart√µes" role="menuitem" title="Cart√£o">
                    <span class="nav-icon" aria-hidden="true">üè¶</span>
                    <span class="nav-text">Cart√£o</span>
                </button>
                <button class="nav-item" data-page="relatorio" aria-label="Ir para Relat√≥rios" role="menuitem" title="Relat√≥rio">
                    <span class="nav-icon" aria-hidden="true">üìà</span>
                    <span class="nav-text">Relat√≥rio</span>
                </button>
            </nav>

            <div class="nav-bottom">
                <button class="nav-item" data-page="configurar" aria-label="Ir para Configura√ß√µes" role="menuitem" title="Configurar">
                    <span class="nav-icon" aria-hidden="true">‚öôÔ∏è</span>
                    <span class="nav-text">Configurar</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content" id="main-content" role="main">
            <header class="page-header">
                <h1 class="page-title">Gerenciador Financeiro</h1>
                <div class="header-actions">
                    <div class="user-menu">
                        <button class="user-menu-btn" id="userMenuBtn" title="Configura√ß√µes do usu√°rio">
                            <span class="user-name" id="headerUserName">Usu√°rio</span>
                            <span class="user-icon">‚öôÔ∏è</span>
                        </button>
                        <div class="user-dropdown" id="userDropdown">
                            <div class="dropdown-header">
                                <span class="dropdown-user-name" id="dropdownUserName">Usu√°rio</span>
                            </div>
                            <div class="dropdown-divider"></div>
                            <button class="dropdown-item" id="btnAlterarSenha">
                                <span>üîë</span> Alterar senha
                            </button>
                            <button class="dropdown-item logout" id="btnLogout">
                                <span>üö™</span> Sair
                            </button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Page -->
            <section class="page-content" id="dashboard-page" style="display: none;">
                <div class="dashboard-content">
                    <!-- Cards de Resumo -->
                    <div class="dashboard-summary">
                        <div class="summary-card-dash total">
                            <div class="card-icon">üí∞</div>
                            <div class="card-info">
                                <h3>Patrim√¥nio L√≠quido</h3>
                                <p class="card-value" id="dashSaldoTotal">R$ 0,00</p>
                            </div>
                        </div>

                        <div class="summary-card-dash receita">
                            <div class="card-icon">üìà</div>
                            <div class="card-info">
                                <h3>Receita Mensal</h3>
                                <p class="card-value" id="dashReceitaMes">R$ 0,00</p>
                                <span class="card-label" id="dashReceitaLabel">Dezembro 2024</span>
                            </div>
                        </div>

                        <div class="summary-card-dash despesa">
                            <div class="card-icon">üìâ</div>
                            <div class="card-info">
                                <h3>Despesas Mensal</h3>
                                <p class="card-value" id="dashDespesaMes">R$ 0,00</p>
                                <span class="card-label" id="dashDespesaLabel">Dezembro 2024</span>
                            </div>
                        </div>

                        <div class="summary-card-dash economia">
                            <div class="card-icon">üí∏</div>
                            <div class="card-info">
                                <h3>Saldo Mensal</h3>
                                <p class="card-value" id="dashEconomiaMes">R$ 0,00</p>
                            </div>
                        </div>
                    </div>

                    <!-- Gr√°fico e Transa√ß√µes Recentes -->
                    <div class="dashboard-main">
                        <div class="dashboard-chart">
                            <h3 id="chart-title">Evolu√ß√£o Mensal</h3>
                            <div class="chart-placeholder">
                                <canvas id="dashboardChart"
                                        width="800"
                                        height="300"
                                        role="img"
                                        aria-labelledby="chart-title"
                                        aria-describedby="chart-description"></canvas>
                                <p id="chart-description" class="sr-only">
                                    Gr√°fico de barras mostrando a evolu√ß√£o de receitas, despesas e saldo dos √∫ltimos 6 meses
                                </p>
                            </div>
                        </div>

                        <div class="dashboard-recent">
                            <div class="recent-header">
                                <h3>√öltimas Transa√ß√µes</h3>
                                <button class="btn-link" onclick="Navigation.navigateTo('transacoes')">Ver todas ‚Üí</button>
                            </div>
                            <div class="recent-list" id="dashRecentTransactions">
                                <div class="empty-state">
                                    <p>Nenhuma transa√ß√£o recente</p>
                                </div>
                            </div>
                        </div>
                    </div>

                   <!-- Or√ßamentos do M√™s e Gastos por Conta -->
                    <div class="dashboard-bottom-section">
                        <div class="dashboard-budgets">
                            <h3>Or√ßamentos do M√™s</h3>
                            <div class="budgets-grid" id="dashBudgetsGrid">
                                <div class="empty-state">
                                    <p>Nenhum or√ßamento cadastrado</p>
                                </div>
                            </div>
                        </div>

                        <div class="dashboard-conta-gastos">
                            <h3>Gastos nos Cart√µes</h3>
                            <div class="conta-gastos-card">
                                <div class="conta-gastos-icon">üí≥</div>
                                <div class="conta-gastos-content">
                                    <p class="conta-gastos-label">Total gasto nos cart√µes de cr√©dito</p>
                                    <h2 class="conta-gastos-valor" id="dashTotalGastoContas">R$ 0,00</h2>
                                    <span class="conta-gastos-mes" id="dashGastosLabel">Janeiro 2026</span>
                                </div>
                            </div>
                            <div class="conta-gastos-list" id="dashContaGastosList">
                                <!-- Lista de cart√µes ser√° inserida aqui -->
                            </div>
                        </div>
                    </div>
                    <!-- Anota√ß√µes -->
                    <div class="dashboard-notas">
                        <div class="notas-header">
                            <h3>Anota√ß√µes</h3>
                            <button id="btnAddNota" class="btn-link" aria-label="Adicionar nova anota√ß√£o">+ Nova</button>
                        </div>

                        <div id="dashNotasForm" class="nota-form" style="display:none" aria-label="Formul√°rio de nova anota√ß√£o">
                            <input type="text" id="notaTitulo" placeholder="T√≠tulo da anota√ß√£o" maxlength="255" aria-label="T√≠tulo da anota√ß√£o">
                            <div class="nota-form-row">
                                <input type="date" id="notaData" aria-label="Data da anota√ß√£o">
                                <select id="notaTipo" aria-label="Tipo da anota√ß√£o">
                                    <option value="lembrete">üîî Lembrete</option>
                                    <option value="vencimento">üìÖ Vencimento</option>
                                    <option value="outro">üìù Outro</option>
                                </select>
                            </div>
                            <textarea id="notaConteudo" placeholder="Detalhes (opcional)" maxlength="1000" rows="2" aria-label="Conte√∫do da anota√ß√£o"></textarea>
                            <div class="nota-form-actions">
                                <button id="btnSalvarNota" class="btn btn-primary btn-sm">Salvar</button>
                                <button id="btnCancelarNota" class="btn btn-secondary btn-sm">Cancelar</button>
                            </div>
                        </div>

                        <div id="dashNotasList" class="notas-list">
                            <div class="empty-state"><p>Nenhuma anota√ß√£o ainda</p></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Transa√ß√µes Page -->
            <section class="page-content" id="transacoes-page">
                <div class="transacoes-header">
                    <h2>Transa√ß√µes Realizadas</h2>
                    <div class="header-actions">
                        <button class="btn btn-export" id="btnExportar">
                            <span>üì•</span> Exportar
                        </button>
                        <button class="btn btn-import" id="btnImportar">
                            <span>üì§</span> Importar
                        </button>
                        <input type="file" id="fileImport" accept=".csv" style="display: none;">
                        <button class="btn btn-primary" id="btnNovaTransacao">+ Nova</button>
                    </div>
                </div>

                <!-- Cards de Resumo Financeiro -->
                <div class="transacoes-summary">
                    <div class="summary-card-transacoes total">
                        <div class="card-icon">üí∞</div>
                        <div class="card-info">
                            <h3>Patrim√¥nio L√≠quido</h3>
                            <p class="card-value" id="transacoesSaldoTotal">R$ 0,00</p>
                        </div>
                    </div>

                    <div class="summary-card-transacoes receita">
                        <div class="card-icon">üìà</div>
                        <div class="card-info">
                            <h3>Receita Mensal</h3>
                            <p class="card-value" id="transacoesReceitaMes">R$ 0,00</p>
                            <span class="card-label" id="transacoesReceitaLabel">Janeiro 2026</span>
                        </div>
                    </div>

                    <div class="summary-card-transacoes despesa">
                        <div class="card-icon">üìâ</div>
                        <div class="card-info">
                            <h3>Despesas Mensal</h3>
                            <p class="card-value" id="transacoesDespesaMes">R$ 0,00</p>
                            <span class="card-label" id="transacoesDespesaLabel">Janeiro 2026</span>
                        </div>
                    </div>

                    <div class="summary-card-transacoes economia">
                        <div class="card-icon">üí∏</div>
                        <div class="card-info">
                            <h3>Saldo Mensal</h3>
                            <p class="card-value" id="transacoesEconomiaMes">R$ 0,00</p>
                        </div>
                    </div>
                </div>

                <!-- Modal Importar Extrato Banc√°rio -->
                <div class="modal" id="modalImportarExtrato" role="dialog" aria-modal="true" aria-labelledby="modalImportarExtratoTitle">
                    <div class="modal-content modal-import">
                        <div class="modal-header">
                            <h2 id="modalImportarExtratoTitle">üìÑ Importar Extrato Banc√°rio</h2>
                            <button class="modal-close" id="closeModalImportar">&times;</button>
                        </div>
                        <div class="modal-form">
                            <!-- Etapa 1: Sele√ß√£o de Arquivo e Conta -->
                            <div class="import-step" id="step1">
                                <div class="form-group">
                                    <label>üè¶ Conta Banc√°ria *</label>
                                    <select id="importConta" required>
                                        <option value="">Selecione uma conta</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label>üìÅ Formato do Arquivo</label>
                                    <div class="format-info">
                                        <div class="format-box">
                                            <span class="format-icon">üíº</span>
                                            <div class="format-details">
                                                <span class="format-name">OFX (Open Financial Exchange)</span>
                                                <span class="format-desc">Formato padr√£o de extrato banc√°rio aceito por todos os bancos</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label>üìé Selecionar Arquivo</label>
                                    <div class="file-upload-area" id="fileUploadArea">
                                        <input type="file" id="importFile" accept=".ofx" hidden>
                                        <div class="upload-placeholder">
                                            <span class="upload-icon">‚òÅÔ∏è</span>
                                            <p class="upload-text">Clique para selecionar ou arraste o arquivo aqui</p>
                                            <p class="upload-hint">Formato aceito: OFX (m√°x. 5MB)</p>
                                        </div>
                                        <div class="file-info" id="fileInfo" style="display: none;">
                                            <span class="file-icon">üìÑ</span>
                                            <div class="file-details">
                                                <p class="file-name" id="fileName"></p>
                                                <p class="file-size" id="fileSize"></p>
                                            </div>
                                            <button type="button" class="btn-remove-file" id="removeFile">üóëÔ∏è</button>
                                        </div>
                                    </div>
                                </div>

                                <div class="modal-actions">
                                    <button type="button" class="btn btn-primary" id="btnProcessarImport" disabled>
                                        Processar Arquivo
                                    </button>
                                    <button type="button" class="btn btn-secondary" id="cancelImport">Cancelar</button>
                                </div>
                            </div>

                            <!-- Etapa 2: Preview e Confirma√ß√£o -->
                            <div class="import-step" id="step2" style="display: none;">
                                <div class="import-summary">
                                    <h3>üìã Preview dos Dados</h3>
                                    <div class="summary-stats">
                                        <div class="stat-card">
                                            <span class="stat-icon">üìä</span>
                                            <div class="stat-info">
                                                <p class="stat-label">Total de Registros</p>
                                                <p class="stat-value" id="totalRegistros">0</p>
                                            </div>
                                        </div>
                                        <div class="stat-card">
                                            <span class="stat-icon">‚úÖ</span>
                                            <div class="stat-info">
                                                <p class="stat-label">Categorizados</p>
                                                <p class="stat-value" id="totalCategorizados">0</p>
                                            </div>
                                        </div>
                                        <div class="stat-card">
                                            <span class="stat-icon">‚ùì</span>
                                            <div class="stat-info">
                                                <p class="stat-label">Sem Categoria</p>
                                                <p class="stat-value" id="totalSemCategoria">0</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="preview-table-container">
                                    <table class="preview-table" id="previewTable" role="grid" aria-label="Pr√©-visualiza√ß√£o de transa√ß√µes importadas">
                                        <caption class="sr-only">Pr√©-visualiza√ß√£o das transa√ß√µes a serem importadas</caption>
                                        <thead>
                                            <tr>
                                                <th scope="col">Data</th>
                                                <th scope="col">Descri√ß√£o</th>
                                                <th scope="col">Tipo</th>
                                                <th scope="col">Valor</th>
                                                <th scope="col">Categoria</th>
                                            </tr>
                                        </thead>
                                        <tbody id="previewTableBody">
                                        </tbody>
                                    </table>
                                </div>

                                <div class="modal-actions">
                                    <button type="button" class="btn btn-success" id="btnConfirmarImport">
                                        ‚úì Importar Transa√ß√µes
                                    </button>
                                    <button type="button" class="btn btn-secondary" id="btnVoltarImport">Voltar</button>
                                </div>
                            </div>

                            <!-- Etapa 3: Processando -->
                            <div class="import-step" id="step3" style="display: none;">
                                <div class="import-processing">
                                    <div class="spinner"></div>
                                    <h3>Importando transa√ß√µes...</h3>
                                    <p class="processing-text" id="processingText">Aguarde enquanto processamos seus dados</p>
                                    <div class="progress-bar">
                                        <div class="progress-fill" id="progressFill"></div>
                                    </div>
                                    <p class="progress-text" id="progressText">0%</p>
                                </div>
                            </div>

                            <!-- Etapa 4: Resultado -->
                            <div class="import-step" id="step4" style="display: none;">
                                <div class="import-result">
                                    <div class="result-icon success" id="resultIcon">‚úì</div>
                                    <h3 id="resultTitle">Dados importados com sucesso!</h3>
                                    <div class="result-stats">
                                        <div class="result-stat">
                                            <span class="result-number" id="importadosCount">0</span>
                                            <span class="result-label">registros importados</span>
                                        </div>
                                        <div class="result-stat">
                                            <span class="result-number" id="categorizadosCount">0</span>
                                            <span class="result-label">categorizados automaticamente</span>
                                        </div>
                                    </div>
                                    <p class="result-emoji">üéâ</p>
                                </div>
                                <div class="modal-actions">
                                    <button type="button" class="btn btn-primary" id="btnFecharResultado">Concluir</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Filtros Estilo Prot√≥tipo -->
                <div class="transacoes-filters-proto">
                    <div class="filters-top-row">
                        <!-- Seletor de Per√≠odo (Ano + Meses) -->
                        <div class="period-selector">
                            <select id="filtroAno" class="year-select">
                            <!-- Ser√° preenchido dinamicamente -->
                            </select>
                            <div class="months-tabs" id="monthsTabs">
                                <button class="month-tab" data-month="1">Jan</button>
                                <button class="month-tab" data-month="2">Fev</button>
                                <button class="month-tab" data-month="3">Mar</button>
                                <button class="month-tab" data-month="4">Abr</button>
                                <button class="month-tab" data-month="5">Mai</button>
                                <button class="month-tab" data-month="6">Jun</button>
                                <button class="month-tab" data-month="7">Jul</button>
                                <button class="month-tab" data-month="8">Ago</button>
                                <button class="month-tab" data-month="9">Set</button>
                                <button class="month-tab" data-month="10">Out</button>
                                <button class="month-tab" data-month="11">Nov</button>
                                <button class="month-tab active" data-month="12">Dez</button>
                            </div>
                        </div>

                        <!-- Filtro Dropdown -->
                        <div class="filter-dropdown">
                            <button class="filter-trigger" id="filterTrigger">
                                <span class="filter-icon">üîΩ</span>
                                <span id="filterLabel">Todas</span>
                            </button>
                            <div class="filter-menu" id="filterMenu">
                                <button class="filter-option active" data-tipo="">Todas</button>
                                <button class="filter-option" data-tipo="receita">Receitas</button>
                                <button class="filter-option" data-tipo="despesa">Despesas</button>
                            </div>
                        </div>

                        <!-- Toggle Data Pagamento -->
                        <div class="toggle-filter">
                            <label class="toggle-switch">
                                <input type="checkbox" id="toggleDataPagamento">
                                <span class="toggle-slider"></span>
                            </label>
                            <span class="toggle-label">Data Pagamento</span>
                        </div>

                        <!-- Campo de Busca -->
                        <div class="search-filter">
                            <span class="search-icon">üîç</span>
                            <input type="text" id="searchTransacoes" placeholder="Buscar transa√ß√µes...">
                        </div>
                    </div>
                </div>

                <div class="transacoes-container">
                    <table class="transacoes-table" id="transacoesTable" role="grid" aria-label="Lista de transa√ß√µes financeiras">
                        <caption class="sr-only">Transa√ß√µes financeiras com data, descri√ß√£o, categoria, conta, tipo e valor</caption>
                        <thead>
                            <tr>
                                <th scope="col"><span aria-hidden="true">üìÖ</span> DATA</th>
                                <th scope="col"><span aria-hidden="true">üìù</span> DESCRI√á√ÉO</th>
                                <th scope="col"><span aria-hidden="true">üè∑Ô∏è</span> CATEGORIA</th>
                                <th scope="col"><span aria-hidden="true">üè¶</span> CONTA</th>
                                <th scope="col"><span aria-hidden="true">üí≥</span> TIPO</th>
                                <th scope="col"><span aria-hidden="true">üí∞</span> VALOR</th>
                                <th>‚öôÔ∏è A√á√ïES</th>
                            </tr>
                        </thead>
                        <tbody id="transacoesBody">
                            <!-- Transa√ß√µes ser√£o inseridas aqui via JavaScript -->
                        </tbody>
                    </table>

                    <div class="empty-state" id="emptyStateTransacoes">
                        <p>Nenhuma transa√ß√£o encontrada</p>
                    </div>

                    <!-- Controles de Pagina√ß√£o -->
                    <div class="pagination-controls" id="paginationControls" style="display: none;">
                        <div class="pagination-info">
                            <span id="paginationInfo">Mostrando 0-0 de 0 transa√ß√µes</span>
                        </div>
                        <div class="pagination-buttons">
                            <button class="pagination-btn" id="btnFirstPage" title="Primeira p√°gina">
                                <span>¬´</span>
                            </button>
                            <button class="pagination-btn" id="btnPrevPage" title="P√°gina anterior">
                                <span>‚Äπ</span>
                            </button>
                            <div class="pagination-pages" id="paginationPages">
                                <!-- N√∫meros de p√°ginas ser√£o inseridos aqui -->
                            </div>
                            <button class="pagination-btn" id="btnNextPage" title="Pr√≥xima p√°gina">
                                <span>‚Ä∫</span>
                            </button>
                            <button class="pagination-btn" id="btnLastPage" title="√öltima p√°gina">
                                <span>¬ª</span>
                            </button>
                        </div>
                        <div class="pagination-page-size">
                            <label for="pageSize">Itens por p√°gina:</label>
                            <select id="pageSize" class="page-size-select">
                                <option value="10">10</option>
                                <option value="20" selected>20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Relat√≥rio Page -->
            <section class="page-content" id="relatorio-page" style="display: none;">
                <div class="summary-cards">
                    <div class="summary-card receita">
                        <h3>Receita</h3>
                        <p class="summary-value" id="receitaTotal">R$ 0,00</p>
                    </div>
                    <div class="summary-card despesa">
                        <h3>Despesas</h3>
                        <p class="summary-value" id="despesaTotal">R$ 0,00</p>
                    </div>
                    <div class="summary-card saldo">
                        <h3>Saldo</h3>
                        <p class="summary-value" id="saldoTotal">R$ 0,00</p>
                    </div>
                </div>

                <div class="info-bottom">
                    <div class="info-card">
                        <h4>Informa√ß√µes de Saldo</h4>
                        <div class="info-list" id="infoCredito">
                            <p>Contas:</p>
                        </div>
                    </div>
                    <div class="info-card">
                        <h4>Informa√ß√µes de Cart√µes</h4>
                        <div class="info-list" id="infoCartoes">
                            <p>Carregando...</p>
                        </div>
                    </div>
                    <div class="chart-circles">
                        <div class="circle-chart">
                            <h4 class="chart-title">Receitas vs Despesas</h4>
                            <canvas id="pizzaTotais" width="300" height="250"></canvas>
                        </div>
                        <div class="circle-chart">
                            <h4 class="chart-title">Saldo por Conta</h4>
                            <canvas id="pizzaContas" width="300" height="250"></canvas>
                        </div>
                        <div class="circle-chart">
                            <h4 class="chart-title">Despesas por Categoria</h4>
                            <canvas id="pizzaDespesas" width="300" height="250"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Cart√£o Page -->
            <section class="page-content" id="cartao-page" style="display: none;">
                <div class="cartao-content">
                    <!-- Sistema de Abas -->
                    <div class="cartao-tabs">
                        <button class="cartao-tab-btn active" data-tab="fatura">√Ä Vista</button>
                        <button class="cartao-tab-btn" data-tab="parcela">Parcela</button>
                    </div>

                    <!-- Aba: Fatura -->
                    <div class="cartao-tab-content active" id="tab-cartao-fatura">
                        <!-- Formul√°rio de Lan√ßamento √Ä Vista -->
                        <div class="cartao-section">
                            <div class="cartao-section-header">
                                <h3>üí≥ Lan√ßar Compra √Ä Vista</h3>
                                <p style="margin: 5px 0 0 0; font-size: 13px; color: var(--text-secondary);">
                                    Apenas compras √† vista (1x). Para compras parceladas, use a aba "Parcela"
                                </p>
                            </div>
                            <form id="formFaturaCompra" class="cartao-form">
                                <div class="cartao-form-row">
                                    <div class="cartao-form-group">
                                        <label>Descri√ß√£o *</label>
                                        <input type="text" id="faturaCompraDescricao" placeholder="Ex: Supermercado" required>
                                    </div>
                                    <div class="cartao-form-group">
                                        <label>Valor *</label>
                                        <input type="number" id="faturaCompraValor" placeholder="0.00" step="0.01" min="0.01" required>
                                    </div>
                                </div>
                                <div class="cartao-form-row">
                                    <div class="cartao-form-group">
                                        <label>Data da Compra *</label>
                                        <input type="date" id="faturaCompraData" required>
                                    </div>
                                    <div class="cartao-form-group">
                                        <label>Cart√£o *</label>
                                        <select id="faturaCompraCartao" required>
                                            <option value="">Selecione um cart√£o</option>
                                        </select>
                                    </div>
                                    <div class="cartao-form-group">
                                        <label>Categoria</label>
                                        <select id="faturaCompraCategoria">
                                            <option value="">Selecione uma categoria</option>
                                        </select>
                                    </div>
                                </div>
                                <button type="submit" class="btn-add-cartao">üíæ Lan√ßar Compra √Ä Vista</button>
                            </form>
                        </div>

                        <!-- Informa√ß√£o sobre Fechamento de Fatura -->
                        <div style="background-color: rgba(74, 144, 226, 0.1); border-left: 4px solid var(--primary-color); padding: 15px; margin-bottom: 20px; border-radius: 8px;">
                            <h4 style="margin: 0 0 8px 0; color: var(--primary-color); font-size: 14px;">üìã Como funciona o fechamento de fatura</h4>
                            <p style="margin: 0; font-size: 13px; color: var(--text-secondary); line-height: 1.6;">
                                ‚Ä¢ Compras feitas <strong>antes do dia de fechamento</strong> (6 dias antes do vencimento) entram na fatura do <strong>m√™s atual</strong><br>
                                ‚Ä¢ Compras feitas <strong>depois do dia de fechamento</strong> entram na fatura do <strong>pr√≥ximo m√™s</strong><br>
                                ‚Ä¢ Exemplo: Cart√£o vence dia 15 ‚Üí Fecha dia 9 ‚Üí Compra no dia 8 entra na fatura atual, compra no dia 10 entra na pr√≥xima
                            </p>
                        </div>

                        <!-- Lista de Cart√µes Dispon√≠veis -->
                        <div class="fatura-cartoes-section">
                            <h3>Cart√µes Cadastrados</h3>
                            <div class="fatura-search-box">
                                <span class="search-icon">üîç</span>
                                <input type="text" id="faturaSearchCartao" placeholder="Buscar cart√£o...">
                            </div>
                            <div class="fatura-cartoes-grid" id="faturaCartoesGrid">
                                <!-- Cart√µes ser√£o inseridos aqui -->
                            </div>
                        </div>

                        <!-- Filtros -->
                        <div class="fatura-filters">
                            <div class="fatura-filter-group">
                                <label>Cart√£o</label>
                                <select id="faturaCartaoSelect" class="fatura-select">
                                    <option value="">Selecione um cart√£o</option>
                                </select>
                            </div>
                            <div class="fatura-filter-group">
                                <label>M√™s</label>
                                <select id="faturaMesSelect" class="fatura-select">
                                    <option value="1">Janeiro</option>
                                    <option value="2">Fevereiro</option>
                                    <option value="3">Mar√ßo</option>
                                    <option value="4">Abril</option>
                                    <option value="5">Maio</option>
                                    <option value="6">Junho</option>
                                    <option value="7">Julho</option>
                                    <option value="8">Agosto</option>
                                    <option value="9">Setembro</option>
                                    <option value="10">Outubro</option>
                                    <option value="11">Novembro</option>
                                    <option value="12">Dezembro</option>
                                </select>
                            </div>
                            <div class="fatura-filter-group">
                                <label>Ano</label>
                                <select id="faturaAnoSelect" class="fatura-select">
                                    <!-- Ser√° preenchido dinamicamente -->
                                </select>
                            </div>
                            <button type="button" class="btn-consultar-fatura" id="btnConsultarFatura">
                                üîç Consultar
                            </button>
                        </div>

                        <!-- Resumo da Fatura -->
                        <div class="fatura-resumo" id="faturaResumo" style="display: none;">
                            <div class="fatura-resumo-card">
                                <div class="fatura-resumo-icon">üí≥</div>
                                <div class="fatura-resumo-content">
                                    <h3 class="fatura-resumo-title">Valor Total da Fatura</h3>
                                    <p class="fatura-resumo-valor" id="faturaValorTotal">R$ 0,00</p>
                                    <div class="fatura-resumo-info">
                                        <span id="faturaQuantidade">0 lan√ßamentos</span>
                                        <span class="fatura-status" id="faturaStatus">
                                            <span class="status-dot"></span>
                                            <span class="status-text">Pendente</span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Lan√ßamentos -->
                        <div class="fatura-lancamentos" id="faturaLancamentos" style="display: none;">
                            <h3 class="fatura-lancamentos-title">Lan√ßamentos da Fatura</h3>
                            <div class="fatura-lancamentos-list" id="faturaLancamentosList">
                                <!-- Lan√ßamentos ser√£o inseridos aqui -->
                            </div>
                            <div class="fatura-paginacao" id="faturaPaginacao">
                                <!-- Pagina√ß√£o ser√° inserida aqui -->
                            </div>
                        </div>

                        <!-- Empty State -->
                        <div class="fatura-empty" id="faturaEmpty">
                            <div class="fatura-empty-icon">üìä</div>
                            <p class="fatura-empty-text">Selecione um cart√£o, m√™s e ano para visualizar a fatura</p>
                        </div>

                        <!-- No Data State -->
                        <div class="fatura-no-data" id="faturaNoData" style="display: none;">
                            <div class="fatura-empty-icon">üì≠</div>
                            <p class="fatura-empty-text">Nenhum lan√ßamento encontrado para este per√≠odo</p>
                        </div>
                    </div>

                    <!-- Aba: Parcela -->
                    <div class="cartao-tab-content" id="tab-cartao-parcela">
                        <!-- Formul√°rio de Lan√ßamento Parcelado -->
                        <div class="cartao-section">
                            <div class="cartao-section-header">
                                <h3>üí≥ Lan√ßar Compra Parcelada</h3>
                                <p style="margin: 5px 0 0 0; font-size: 13px; color: var(--text-secondary);">
                                    Apenas compras parceladas (2x ou mais). Para compras √† vista, use a aba "Fatura"
                                </p>
                            </div>
                            <form id="formParcelaCompra" class="cartao-form">
                                <div class="cartao-form-row">
                                    <div class="cartao-form-group">
                                        <label>Descri√ß√£o *</label>
                                        <input type="text" id="parcelaCompraDescricao" placeholder="Ex: Notebook Dell" required>
                                    </div>
                                    <div class="cartao-form-group">
                                        <label>Valor Total *</label>
                                        <input type="number" id="parcelaCompraValor" placeholder="0.00" step="0.01" min="0.01" required>
                                    </div>
                                </div>
                                <div class="cartao-form-row">
                                    <div class="cartao-form-group">
                                        <label>Data da Compra *</label>
                                        <input type="date" id="parcelaCompraData" required>
                                    </div>
                                    <div class="cartao-form-group">
                                        <label>Cart√£o *</label>
                                        <select id="parcelaCompraCartao" required>
                                            <option value="">Selecione um cart√£o</option>
                                        </select>
                                    </div>
                                    <div class="cartao-form-group">
                                        <label>Categoria</label>
                                        <select id="parcelaCompraCategoria">
                                            <option value="">Selecione uma categoria</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="cartao-form-row">
                                    <div class="cartao-form-group">
                                        <label>N√∫mero de Parcelas *</label>
                                        <select id="parcelaCompraParcelas" required>
                                            <option value="">Selecione as parcelas</option>
                                            <option value="2">2x sem juros</option>
                                            <option value="3">3x sem juros</option>
                                            <option value="4">4x sem juros</option>
                                            <option value="5">5x sem juros</option>
                                            <option value="6">6x sem juros</option>
                                            <option value="7">7x sem juros</option>
                                            <option value="8">8x sem juros</option>
                                            <option value="9">9x sem juros</option>
                                            <option value="10">10x sem juros</option>
                                            <option value="11">11x sem juros</option>
                                            <option value="12">12x sem juros</option>
                                        </select>
                                    </div>
                                    <div class="cartao-form-group" style="flex: 2;">
                                        <label>Valor da Parcela</label>
                                        <input type="text" id="parcelaCompraValorParcela" placeholder="Ser√° calculado automaticamente" readonly style="background-color: var(--bg-light); cursor: not-allowed;">
                                    </div>
                                </div>
                                <button type="submit" class="btn-add-cartao">üíæ Lan√ßar Compra Parcelada</button>
                            </form>
                        </div>

                        <!-- Card de Resumo de Parcelas do M√™s -->
                        <div class="cartao-section">
                            <div class="parcelas-resumo-card">
                                <div class="parcelas-resumo-icon">üìä</div>
                                <div class="parcelas-resumo-content">
                                    <h4>Total de Parcelas do M√™s Atual</h4>
                                    <p class="parcelas-resumo-valor" id="parcelasResumoValor">R$ 0,00</p>
                                    <p class="parcelas-resumo-info" id="parcelasResumoInfo">0 parcelas</p>
                                </div>
                            </div>
                        </div>

                        <!-- Cards dos Cart√µes com Parcelas -->
                        <div class="cartao-section">
                            <h3>Parcelas por Cart√£o</h3>
                            <div class="parcelas-search-box">
                                <span class="search-icon">üîç</span>
                                <input type="text" id="parcelasSearchCartao" placeholder="Buscar cart√£o...">
                            </div>
                            <div class="parcelas-cartoes-grid" id="parcelasCartoesGrid">
                                <!-- Cards de cart√µes ser√£o inseridos aqui -->
                            </div>
                        </div>

                        <!-- Informa√ß√£o sobre Parcelas -->
                        <div style="background-color: rgba(255, 152, 0, 0.1); border-left: 4px solid var(--warning-color); padding: 12px; margin-bottom: 20px; border-radius: 8px;">
                            <p style="margin: 0; font-size: 12px; color: var(--text-secondary); line-height: 1.5;">
                                üí° <strong>Dica:</strong> A parcela exibida corresponde ao m√™s da fatura, n√£o ao m√™s da compra. Por exemplo, uma compra feita ap√≥s o fechamento da fatura aparecer√° como parcela 1/X no m√™s seguinte.
                            </p>
                        </div>

                        <!-- Tabela de Compras Parceladas -->
                        <div class="cartao-section">
                            <h3>Parcelas do M√™s Atual</h3>
                            <div class="parcelas-table-container">
                                <div class="parcelas-empty" id="parcelasEmpty">
                                    <div class="parcelas-empty-icon">üí≥</div>
                                    <p class="parcelas-empty-text">Nenhuma parcela encontrada para o m√™s atual</p>
                                    <p class="parcelas-empty-hint">Lance compras parceladas usando o formul√°rio acima</p>
                                </div>
                                <div id="parcelasTableWrapper" style="display: none;">
                                    <table class="parcelas-table" role="grid" aria-label="Lista de parcelas do m√™s">
                                        <caption class="sr-only">Parcelas do m√™s atual com descri√ß√£o, data, cart√£o e valores</caption>
                                        <thead>
                                            <tr>
                                                <th scope="col">Descri√ß√£o</th>
                                                <th scope="col">Data</th>
                                                <th scope="col">Cart√£o</th>
                                                <th scope="col">Valor Parcela</th>
                                                <th scope="col">Parcela</th>
                                                <th scope="col">Categoria</th>
                                                <th>A√ß√µes</th>
                                            </tr>
                                        </thead>
                                        <tbody id="parcelasTableBody">
                                            <!-- Parcelas ser√£o inseridas aqui via JavaScript -->
                                        </tbody>
                                    </table>
                                    <div class="parcelas-paginacao" id="parcelasPaginacao">
                                        <!-- Pagina√ß√£o ser√° inserida aqui -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Modal Lan√ßar Compra -->
            <div class="modal" id="modalLancarCompra" role="dialog" aria-modal="true" aria-labelledby="modalLancarCompraTitle">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 id="modalLancarCompraTitle">üí≥ Lan√ßar Compra no Cart√£o</h2>
                        <button class="modal-close" id="closeModalLancarCompra">&times;</button>
                    </div>
                    <div class="modal-form">
                        <form id="formLancarCompra">
                            <div class="form-group">
                                <label for="compraDescricao">Descri√ß√£o *</label>
                                <input
                                    type="text"
                                    id="compraDescricao"
                                    placeholder="Ex: Supermercado P√£o de A√ß√∫car"
                                    required
                                />
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="compraValor">Valor Total *</label>
                                    <input
                                        type="number"
                                        id="compraValor"
                                        step="0.01"
                                        min="0.01"
                                        placeholder="0.00"
                                        required
                                    />
                                </div>

                                <div class="form-group">
                                    <label for="compraData">Data da Compra *</label>
                                    <input type="date" id="compraData" required />
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="compraCartao">Cart√£o *</label>
                                    <select id="compraCartao" required>
                                        <option value="">Selecione um cart√£o</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="compraCategoria">Categoria</label>
                                    <select id="compraCategoria">
                                        <option value="">Selecione uma categoria</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="compraParcelas">Parcelamento *</label>
                                <select id="compraParcelas" required>
                                    <option value="1">√Ä vista (1x)</option>
                                    <option value="2">2x sem juros</option>
                                    <option value="3">3x sem juros</option>
                                    <option value="4">4x sem juros</option>
                                    <option value="5">5x sem juros</option>
                                    <option value="6">6x sem juros</option>
                                    <option value="7">7x sem juros</option>
                                    <option value="8">8x sem juros</option>
                                    <option value="9">9x sem juros</option>
                                    <option value="10">10x sem juros</option>
                                    <option value="11">11x sem juros</option>
                                    <option value="12">12x sem juros</option>
                                </select>
                            </div>

                            <div class="parcela-info" id="parcelaInfo" style="display: none;">
                                <div class="parcela-info-icon">‚ÑπÔ∏è</div>
                                <div class="parcela-info-text">
                                    <strong id="parcelaInfoTexto"></strong>
                                    <p id="parcelaInfoDetalhes"></p>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="compraObservacoes">Observa√ß√µes</label>
                                <textarea
                                    id="compraObservacoes"
                                    rows="3"
                                    placeholder="Observa√ß√µes adicionais (opcional)"
                                ></textarea>
                            </div>

                            <div class="modal-actions">
                                <button type="button" class="btn btn-secondary" id="cancelLancarCompra">
                                    Cancelar
                                </button>
                                <button type="submit" class="btn btn-primary">üíæ Lan√ßar Compra</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Configurar Page -->
            <section class="page-content" id="configurar-page" style="display: none;">
                <div class="config-tabs">
                    <button class="tab-btn active" data-tab="contas">Contas</button>
                    <button class="tab-btn" data-tab="cartoes">Cart√µes</button>
                    <button class="tab-btn" data-tab="categoria">Categorias</button>
                    <button class="tab-btn" data-tab="orcamento">Or√ßamento</button>
                </div>

                <!-- Tab: Contas -->
                <div class="tab-content active" id="tab-contas">
                    <div class="config-section">
                        <h3>Adicionar nova Conta</h3>
                        <form id="formConta" class="config-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nome da Conta</label>
                                    <input type="text" id="contaNome" placeholder="Ex: Banco Inter" required>
                                </div>
                                <div class="form-group">
                                    <label>Saldo da Conta</label>
                                    <input type="number" id="contaSaldo" placeholder="0.00" step="0.01" value="0">
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Tipo de Conta</label>
                                    <select id="contaTipo" required>
                                        <option value="corrente">Corrente</option>
                                        <option value="poupanca">Poupan√ßa</option>
                                        <option value="investimento">Investimento</option>
                                        <option value="carteira">Carteira</option>
                                    </select>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-success">Adicionar conta</button>
                        </form>
                    </div>

                    <div class="config-section">
                        <h3>Contas Cadastradas</h3>
                        <div class="items-list" id="contasList">
                            <div class="empty-state">
                                <p>Nenhuma conta cadastrada</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal Editar Conta -->
                <div class="modal" id="modalEditarConta" role="dialog" aria-modal="true" aria-labelledby="modalEditarContaTitle">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 id="modalEditarContaTitle">Editar Conta</h2>
                            <button class="modal-close" id="closeModalEditarConta">&times;</button>
                        </div>
                        <form id="formEditarConta" class="modal-form">
                            <input type="hidden" id="editContaId">
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nome da Conta</label>
                                    <input type="text" id="editContaNome" placeholder="Ex: Banco Inter" required>
                                </div>
                                <div class="form-group">
                                    <label>Saldo da Conta</label>
                                    <input type="number" id="editContaSaldo" placeholder="0.00" step="0.01" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Tipo de Conta</label>
                                    <select id="editContaTipo" required>
                                        <option value="corrente">Corrente</option>
                                        <option value="poupanca">Poupan√ßa</option>
                                        <option value="investimento">Investimento</option>
                                        <option value="carteira">Carteira</option>
                                    </select>
                                </div>
                            </div>
                            <div class="modal-actions">
                                <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                                <button type="button" class="btn btn-secondary" id="cancelModalEditarConta">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Tab: Cart√µes -->
                <div class="tab-content" id="tab-cartoes">
                    <div class="config-section">
                        <h3>Adicionar novo Cart√£o</h3>
                        <form id="formCartao" class="config-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nome do Cart√£o</label>
                                    <input type="text" id="cartaoNome" placeholder="Ex: Nubank Roxinho" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Valor da Fatura</label>
                                    <input type="number" id="cartaoValor" placeholder="0.00" step="0.01" value="0">
                                </div>
                                <div class="form-group">
                                    <label>Data de Vencimento (Dia do M√™s)</label>
                                    <input type="number" id="cartaoVencimento" placeholder="1-31" min="1" max="31" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-success">+ Adicionar Cart√£o</button>
                        </form>
                    </div>

                    <div class="config-section">
                        <h3>Cart√µes Cadastrados</h3>
                        <div class="items-list" id="cartoesList">
                            <div class="empty-state" id="cartoesEmpty">
                                <p>Nenhum cart√£o cadastrado</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal Editar Cart√£o -->
                <div class="modal" id="modalEditarCartao" role="dialog" aria-modal="true" aria-labelledby="modalEditarCartaoTitle">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 id="modalEditarCartaoTitle">Editar Cart√£o</h2>
                            <button class="modal-close" id="closeModalEditarCartao">&times;</button>
                        </div>
                        <form id="formEditarCartao" class="modal-form">
                            <input type="hidden" id="editCartaoId">

                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nome do Cart√£o</label>
                                    <input type="text" id="editCartaoNome" placeholder="Ex: Nubank Roxinho" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Valor da Fatura</label>
                                    <input type="number" id="editCartaoValor" placeholder="0.00" step="0.01" required>
                                </div>
                                <div class="form-group">
                                    <label>Data de Vencimento (Dia do M√™s)</label>
                                    <input type="number" id="editCartaoVencimento" placeholder="1-31" min="1" max="31" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Status</label>
                                    <select id="editCartaoStatus" required>
                                        <option value="aberta">Aberta</option>
                                        <option value="fechada">Fechada</option>
                                        <option value="paga">Paga</option>
                                        <option value="pendente">Pendente</option>
                                    </select>
                                </div>
                            </div>
                            <div class="modal-actions">
                                <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                                <button type="button" class="btn btn-secondary" id="cancelModalEditarCartao">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Tab: Categorias -->
                <div class="tab-content" id="tab-categoria">
                    <div class="config-section">
                        <h3>Adicionar nova Categoria</h3>
                        <form id="formCategoria" class="config-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nome da Categoria</label>
                                    <input type="text" id="categoriaNome" placeholder="Ex: Alimenta√ß√£o" required>
                                </div>
                                <div class="form-group">
                                    <label>Tipo</label>
                                    <select id="categoriaTipo" required>
                                        <option value="receita">Receita</option>
                                        <option value="despesa">Despesa</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Cor</label>
                                    <input type="color" id="categoriaCor" value="#4CAF50">
                                </div>
                            </div>
                            <div class="form-actions">
                                <button type="submit" class="btn btn-success">Salvar</button>
                                <button type="button" class="btn btn-danger">Cancelar</button>
                            </div>
                        </form>
                    </div>

                    <div class="config-section">
                        <h3>Categorias Cadastradas</h3>
                        <div class="items-list" id="categoriasList">
                            <div class="empty-state">
                                <p>Nenhuma categoria cadastrada</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                 <!-- Modal Editar Categoria -->
                <div class="modal" id="modalEditarCategoria" role="dialog" aria-modal="true" aria-labelledby="modalEditarCategoriaTitle">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 id="modalEditarCategoriaTitle">Editar Categoria</h2>
                            <button class="modal-close" id="closeModalEditarCategoria">&times;</button>
                        </div>
                        <form id="formEditarCategoria" class="modal-form">
                            <input type="hidden" id="editCategoriaId">
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Nome da Categoria</label>
                                    <input type="text" id="editCategoriaNome" placeholder="Ex: Alimenta√ß√£o" required>
                                </div>
                                <div class="form-group">
                                    <label>Tipo</label>
                                    <select id="editCategoriaTipo" required>
                                        <option value="receita">Receita</option>
                                        <option value="despesa">Despesa</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Cor</label>
                                    <input type="color" id="editCategoriaCor" value="#4CAF50">
                                </div>
                            </div>
                            <div class="modal-actions">
                                <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                                <button type="button" class="btn btn-secondary" id="cancelModalEditarCategoria">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Tab: Or√ßamento -->
                <div class="tab-content" id="tab-orcamento">
                    <div class="config-section">
                        <h3>Adicionar novo Or√ßamento</h3>
                        <form id="formOrcamento" class="config-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Categoria</label>
                                    <select id="orcamentoCategoria" required>
                                        <option value="">Selecione uma categoria</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Valor do Or√ßamento</label>
                                    <input type="number" id="orcamentoValor" placeholder="0.00" step="0.01" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>M√™s</label>
                                    <select id="orcamentoMes" required>
                                        <option value="1">Janeiro</option>
                                        <option value="2">Fevereiro</option>
                                        <option value="3">Mar√ßo</option>
                                        <option value="4">Abril</option>
                                        <option value="5">Maio</option>
                                        <option value="6">Junho</option>
                                        <option value="7">Julho</option>
                                        <option value="8">Agosto</option>
                                        <option value="9">Setembro</option>
                                        <option value="10">Outubro</option>
                                        <option value="11">Novembro</option>
                                        <option value="12">Dezembro</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Ano</label>
                                    <input type="number" id="orcamentoAno" value="2024" required>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-success">Adicionar conta</button>
                        </form>
                    </div>

                    <div class="config-section">
                        <h3>Or√ßamentos Cadastrados</h3>
                        <div class="items-list" id="orcamentosList">
                            <div class="empty-state">
                                <p>Nenhum or√ßamento cadastrado</p>
                            </div>
                        </div>
                    </div>
                </div>

                 <!-- Modal Editar Or√ßamento -->
                <div class="modal" id="modalEditarOrcamento" role="dialog" aria-modal="true" aria-labelledby="modalEditarOrcamentoTitle">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h2 id="modalEditarOrcamentoTitle">Editar Or√ßamento</h2>
                            <button class="modal-close" id="closeModalEditarOrcamento">&times;</button>
                        </div>
                        <form id="formEditarOrcamento" class="modal-form">
                            <input type="hidden" id="editOrcamentoId">
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Categoria</label>
                                    <select id="editOrcamentoCategoria" required>
                                        <option value="">Selecione uma categoria</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Valor do Or√ßamento</label>
                                    <input type="number" id="editOrcamentoValor" placeholder="0.00" step="0.01" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>M√™s</label>
                                    <select id="editOrcamentoMes" required>
                                        <option value="1">Janeiro</option>
                                        <option value="2">Fevereiro</option>
                                        <option value="3">Mar√ßo</option>
                                        <option value="4">Abril</option>
                                        <option value="5">Maio</option>
                                        <option value="6">Junho</option>
                                        <option value="7">Julho</option>
                                        <option value="8">Agosto</option>
                                        <option value="9">Setembro</option>
                                        <option value="10">Outubro</option>
                                        <option value="11">Novembro</option>
                                        <option value="12">Dezembro</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Ano</label>
                                    <input type="number" id="editOrcamentoAno" value="2024" required>
                                </div>
                            </div>
                            <div class="modal-actions">
                                <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                                <button type="button" class="btn btn-secondary" id="cancelModalEditarOrcamento">Cancelar</button>
                            </div>
                        </form>
                    </div>
                </div>

            </section>
        </main>
    </div>

    <!-- Modal Nova Transa√ß√£o -->
    <div class="modal" id="modalNovaTransacao" role="dialog" aria-modal="true" aria-labelledby="modalNovaTransacaoTitle">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalNovaTransacaoTitle">Nova Transa√ß√£o</h2>
                <button class="modal-close" id="closeModalTransacao">&times;</button>
            </div>
            <form id="formNovaTransacao" class="modal-form">
                <div class="form-group">
                    <label>Descri√ß√£o</label>
                    <input type="text" id="transacaoDescricao" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Valor</label>
                        <input type="number" id="transacaoValor" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select id="transacaoTipo" required>
                            <option value="receita">Receita</option>
                            <option value="despesa">Despesa</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Data</label>
                        <input type="date" id="transacaoData" required>
                    </div>
                    <div class="form-group">
                        <label>Conta</label>
                        <select id="transacaoConta" required>
                            <option value="">Selecione uma conta</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Categoria</label>
                    <select id="transacaoCategoria" required>
                        <option value="">Selecione uma categoria</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Observa√ß√µes</label>
                    <textarea id="transacaoObservacoes" rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">Salvar</button>
                    <button type="button" class="btn btn-secondary" id="cancelModalTransacao">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Editar Transa√ß√£o -->
    <div class="modal" id="modalEditarTransacao" role="dialog" aria-modal="true" aria-labelledby="modalEditarTransacaoTitle">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalEditarTransacaoTitle">Editar Transa√ß√£o</h2>
                <button class="modal-close" id="closeModalEditarTransacao">&times;</button>
            </div>
            <form id="formEditarTransacao" class="modal-form">
                <input type="hidden" id="editTransacaoId">
                
                <div class="form-group">
                    <label>Descri√ß√£o</label>
                    <input type="text" id="editTransacaoDescricao" required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Valor</label>
                        <input type="number" id="editTransacaoValor" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select id="editTransacaoTipo" required>
                            <option value="receita">Receita</option>
                            <option value="despesa">Despesa</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Data</label>
                        <input type="date" id="editTransacaoData" required>
                    </div>
                    <div class="form-group">
                        <label>Conta</label>
                        <select id="editTransacaoConta" required>
                            <option value="">Selecione uma conta</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label>Categoria</label>
                    <select id="editTransacaoCategoria" required>
                        <option value="">Selecione uma categoria</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Observa√ß√µes</label>
                    <textarea id="editTransacaoObservacoes" rows="3"></textarea>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">Salvar Altera√ß√µes</button>
                    <button type="button" class="btn btn-secondary" id="cancelModalEditarTransacao">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Alterar Senha -->
    <div class="modal" id="modalAlterarSenha" role="dialog" aria-modal="true" aria-labelledby="modalAlterarSenhaTitle">
        <div class="modal-content modal-sm">
            <div class="modal-header">
                <h3 id="modalAlterarSenhaTitle">Alterar Senha</h3>
                <button class="modal-close" id="closeModalAlterarSenha">&times;</button>
            </div>
            <form id="formAlterarSenha">
                <div class="form-group">
                    <label for="senhaAtual">Senha atual</label>
                    <input type="password" id="senhaAtual" placeholder="Digite sua senha atual" required>
                </div>
                <div class="form-group">
                    <label for="novaSenha">Nova senha</label>
                    <input type="password" id="novaSenha" placeholder="Digite a nova senha (m√≠n. 4 caracteres)" required>
                </div>
                <div class="form-group">
                    <label for="confirmarNovaSenha">Confirmar nova senha</label>
                    <input type="password" id="confirmarNovaSenha" placeholder="Confirme a nova senha" required>
                </div>
                <div id="alterarSenhaError" class="form-error"></div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn-primary">Alterar Senha</button>
                    <button type="button" class="btn btn-secondary" id="cancelModalAlterarSenha">Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="../../node_modules/chart.js/dist/chart.umd.min.js"></script>
    <script src="scripts/eventBus.js"></script>
    <script src="scripts/config.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/app.js"></script>
    <script src="scripts/navigation.js"></script>
    <script src="scripts/dashboard.js"></script>
    <script src="scripts/transacoes.js"></script>
    <script src="scripts/cartao.js"></script>
    <script src="scripts/relatorio.js"></script>
    <script src="scripts/configurar.js"></script>
    <script src="scripts/import.js"></script>
</body>
</html>